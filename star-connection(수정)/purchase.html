<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>구매 페이지</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="//typesquare.com/accessor/ko/script/typesquare.js?66fd514f1eb84bffa0f20d0cac1e02e5" charset="utf-8"></script>
</head>
<body>
    <h1>상품 구매</h1>
    <div id="purchaseInfo"></div>
    <button id="payButton">결제하기</button>

    <script src="purchase.js"></script> 

    <script>
        document.getElementById('payButton').addEventListener('click', function() {
            const product = JSON.parse(localStorage.getItem('selectedProduct'));

            if (!product) {
                alert('상품 정보가 없습니다.');
                return;
            }

            // 사용자 정보 (예시, 실제 구현에서는 사용자 입력을 받거나 세션에서 가져올 수 있음)
            const userInfo = {
                name: '사용자 이름', // 실제 사용자 이름으로 변경
                phone: '010-1234-5678' // 실제 전화번호로 변경
            };

            // 구매 정보 저장
            const purchaseData = {
                productName: product.name,
                price: product.price,
                purchaseTime: new Date().toLocaleString(),
                user: userInfo
            };

            const purchases = JSON.parse(localStorage.getItem('purchases')) || [];
            purchases.push(purchaseData);
            localStorage.setItem('purchases', JSON.stringify(purchases));

            alert('결제가 완료되었습니다!');

            // 선택한 상품 정보 제거
            localStorage.removeItem('selectedProduct'); 
            window.location.href = 'buy.html'; 
        });
    </script>

    <header>
        <nav>
            <ul>
                <li><a href="welcome.html">🏠홈</a></li>
                <li>&nbsp&nbsp&nbsp<a href="buy.html">📃상품 목록</a></li>
                <li>&nbsp&nbsp&nbsp<a href="pickup.html">🎁픽업 서비스</a></li>
                <li>&nbsp&nbsp&nbsp<a href="sellormanage.html">🛍️판매/관리</a></li>
                <li>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<button4 id="backButton">↩️뒤로가기</button4></li>
            </ul>
        </nav>
    </header>
    
    <script src="navbar.js"></script>
    <script src="slider.js"></script>
    <script src="localstorage.js"></script>

     </div>
    <div id="slider-container">
        <div id="size-indicator">글자 크기 <span>16</span>pt</div>
        <input type="range" id="rangeslider" min="10" max="25" value="16">
    </div>

</body>
</html>
